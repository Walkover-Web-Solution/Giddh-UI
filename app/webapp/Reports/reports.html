<!-- structure -->

<div class="container-fluid">
  <div class="row">
    <!-- left side -->
    <div class="col-xs-3 greyBg max350">
      <div class="row">
        <div id="left">
            <div class="loader mrT4" ng-hide="showLedgerBox">
              <span></span>
              <span></span>
              <span></span>
              <span></span>
              <span></span>
            </div>
            <div ng-show="showLedgerBox">
              <div ng-if="showHistoryFilters">
                <perfect-scrollbar class="scrClass" wheel-propagation="true" wheel-speed="1" min-scrollbar-length="20" auto-height suppress-  scroll-x="true">
                  <h1 class="page-title" style="margin-left:15px; margin-bottom:15px;">Generate Graph</h1>
                  <div class="graph-filters col-xs-12">

                    <div class="clearfix">
                      <label>Select Groups</label>
                      <ui-select multiple ng-model="selected.groups" theme="bootstrap" ng-disabled=" groups.legnth < 1">
                          <ui-select-match placeholder="Select Groups">
                            <span  ng-click="removeGroup($item)">{{$item.name}}</span>
                          </ui-select-match >
                          <ui-select-choices repeat="grp in groups| filter: $select.search ">
                            <span ng-bind="grp.name"></span>
                          </ui-select-choices>
                      </ui-select>
                    </div>
                    <div class="clearfix">
                      <label>Select Accounts</label>
                      <ui-select multiple ng-model="selected.accounts" theme="bootstrap"  ng-disabled=" accounts.legnth < 1">
                          <ui-select-match placeholder="Select Accounts">
                              <span>{{$item.name}}</span>
                          </ui-select-match>
                          <ui-select-choices repeat="acc in getParticularAccount($select.search) | limitTo : 5 | filter: $select.search ">
                              <span ng-bind="acc.name"></span>
                          </ui-select-choices>
                      </ui-select>
                    </div>
                    <div class="clearfix">
                      <label>From date</label>
                      <p class="input-group">
                        <input type="text" class="form-control"
                             uib-datepicker-popup="{{format}}" required
                             datepicker-options="dateOptions"
                             is-open="fromDatePickerIsOpen"
                             ng-click="fromDatePickerOpen()"
                             ng-model="fromDate.date"
                             max-date="today"
                             placeholder="from date"
                          />
                        <span class="input-group-btn">
                          <button type="button" class="btn btn-default" ng-click="fromDatePickerOpen()"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
                      </p>
                    </div>

                    <div class="clearfix">
                      <label>To date</label>
                      <p class="input-group">
                        <input type="text" class="form-control"
                               uib-datepicker-popup="{{format}}" required
                               datepicker-options="dateOptions"
                               is-open="toDatePickerIsOpen"
                               ng-click="toDatePickerOpen()"
                               ng-model="toDate.date" min-date="" max-date="today" placeholder="to date"
                            />
                        <span class="input-group-btn">
                          <button type="button" class="btn btn-default" ng-click="toDatePickerOpen()"><i
                            class="glyphicon glyphicon-calendar"></i></button>
                        </span>
                      </p>
                    </div>

                    <div class="clearfix">
                      <label>Select Interval</label>
                      <ui-select ng-model="selected.interval" theme="bootstrap">
                          <ui-select-match>
                              <span>{{$select.selected}} Days</span>
                          </ui-select-match>
                          <ui-select-choices repeat="int in intervalVals">
                              <span ng-bind="int"></span>
                          </ui-select-choices>
                      </ui-select>
                    </div>
                    <div class="mrB4">
                      <button class="btn btn-success" ng-click="generateGraph()">Go</button>
                    </div>
                  </div>
                  <div style="height: 50px;"></div>
                </perfect-scrollbar>
              </div>
              <div ng-if="showPLGraphFilters">
                <perfect-scrollbar class="scrClass" wheel-propagation="true" wheel-speed="1" min-scrollbar-length="20" auto-height suppress-  scroll-x="true">
                  <h1 class="page-title" style="margin-left:15px; margin-bottom:15px;">Generate Graph</h1>
                  
                  <div class="graph-filters col-xs-12">
                   
                    <div class="clearfix shrink-datepicker" >
                      <label>From date</label>
                      <p class="input-group">
                        <input type="text" class="form-control"
                             uib-datepicker-popup="{{format}}" required
                             datepicker-options="dateOptions"
                             is-open="fromDatePickerIsOpen"
                             ng-click="fromDatePickerOpen()"
                             ng-model="fromPLDate.date"
                             max-date="today"
                             placeholder="from date"
                          />
                        <span class="input-group-btn">
                          <button type="button" class="btn btn-default" ng-click="fromDatePickerOpen()"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
                      </p>
                    </div>

                    <div class="clearfix shrink-datepicker">
                      <label>To date</label>
                      <p class="input-group">
                        <input type="text" class="form-control"
                               uib-datepicker-popup="{{format}}" required
                               datepicker-options="dateOptions"
                               is-open="toDatePickerIsOpen"
                               ng-click="toDatePickerOpen()"
                               ng-model="toPLDate.date" min-date="" max-date="today" placeholder="to date"
                            />
                        <span class="input-group-btn">
                          <button type="button" class="btn btn-default" ng-click="toDatePickerOpen()"><i
                            class="glyphicon glyphicon-calendar"></i></button>
                        </span>
                      </p>
                    </div>

                    <div class="clearfix">
                      <label>Select Interval</label>
                      <ui-select ng-model="selected.interval" theme="bootstrap">
                          <ui-select-match>
                              <span>{{$select.selected}} Days</span>
                          </ui-select-match>
                          <ui-select-choices repeat="int in intervalVals">
                              <span ng-bind="int"></span>
                          </ui-select-choices>
                      </ui-select>
                    </div>

                    <div class="mrB4">
                      <button class="btn btn-success" ng-click="generatePLgraph()">Go</button>
                    </div>

                  </div>
                  <div style="height: 50px;"></div>
                </perfect-scrollbar>
              </div>
              <div ng-if="showNWfilters">
                <perfect-scrollbar class="scrClass" wheel-propagation="true" wheel-speed="1" min-scrollbar-length="20" auto-height suppress-  scroll-x="true">
                  <h1 class="page-title" style="margin-left:15px; margin-bottom:15px;">Generate Graph</h1>
                  
                  <div class="graph-filters col-xs-12">
                   
                    <div class="clearfix shrink-datepicker" >
                      <label>From date</label>
                      <p class="input-group">
                        <input type="text" class="form-control"
                             uib-datepicker-popup="{{format}}" required
                             datepicker-options="dateOptions"
                             is-open="fromDatePickerIsOpen"
                             ng-click="fromDatePickerOpen()"
                             ng-model="fromNWDate.date"
                             max-date="today"
                             placeholder="from date"
                          />
                        <span class="input-group-btn">
                          <button type="button" class="btn btn-default" ng-click="fromDatePickerOpen()"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
                      </p>
                    </div>

                    <div class="clearfix shrink-datepicker">
                      <label>To date</label>
                      <p class="input-group">
                        <input type="text" class="form-control"
                               uib-datepicker-popup="{{format}}" required
                               datepicker-options="dateOptions"
                               is-open="toDatePickerIsOpen"
                               ng-click="toDatePickerOpen()"
                               ng-model="toNWDate.date" min-date="" max-date="today" placeholder="to date"
                            />
                        <span class="input-group-btn">
                          <button type="button" class="btn btn-default" ng-click="toDatePickerOpen()"><i
                            class="glyphicon glyphicon-calendar"></i></button>
                        </span>
                      </p>
                    </div>

                    <div class="clearfix">
                      <label>Select Interval</label>
                      <ui-select ng-model="selected.interval" theme="bootstrap">
                          <ui-select-match>
                              <span>{{$select.selected}} Days</span>
                          </ui-select-match>
                          <ui-select-choices repeat="int in intervalVals">
                              <span ng-bind="int"></span>
                          </ui-select-choices>
                      </ui-select>
                    </div>

                    <div class="mrB4">
                      <button class="btn btn-success" ng-click="generateNWgraph()">Go1</button>
                    </div>

                  </div>
                  <div style="height: 50px;"></div>
                </perfect-scrollbar>
              </div>
            </div>
            <!-- end of showLedgerBox -->
        </div>
      </div>
    </div>
    <!-- middle body -->
    <div class=" col-xs-9" >
      <div class="middleBody bdrR bdrL row" auto-height> 
        <div class="no-data" ng-if="noData">
          <h1>Sorry, No Data Found!</h1>
          <img src="/public/webapp/Globals/images/no-data.png" alt="">
        </div>
        <uib-tabset ng-if="!noData">
          <uib-tab heading="Historical Comparision" select="showHistoryFilter()">
            <div class="clearfix">
              <div class="loader mrT4" ng-hide="showLedgerBox">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
              </div>
              <perfect-scrollbar class="scrClass" wheel-propagation="true" wheel-speed="1" min-scrollbar-length="20" auto-height>
                <div class="filter-bar" ng-show="showFilters">
                  <div class="col-xs-4">
                    <label>Select Group/Account</label>
                    <ui-select ng-model="selected.filteredGroupsAndAccounts" theme="bootstrap" >
                        <ui-select-match placeholder="Select Group/Account to filter">
                            <span>{{$select.selected.name}}</span>
                        </ui-select-match>
                        <ui-select-choices repeat="unit in GroupsAndAccounts">
                            <span ng-bind="unit.name"></span>
                        </ui-select-choices>
                    </ui-select>
                  </div>
                  <div class="checkbox">
                    <label>
                      <input type="checkbox" ng-model="selected.filteredGroupsAndAccounts.forfilter.cb.val" ng-change="filterGraph(selected.filteredGroupsAndAccounts.forfilter.cb)"> Closing Balance
                    </label>
                  </div>
                  <div class="checkbox">
                    <label>
                      <input type="checkbox" ng-model="selected.filteredGroupsAndAccounts.forfilter.cr.val" ng-change="filterGraph(selected.filteredGroupsAndAccounts.forfilter.cr)"> Credit Total
                    </label>
                  </div>
                  <div class="checkbox">
                    <label>
                      <input type="checkbox" ng-model="selected.filteredGroupsAndAccounts.forfilter.dr.val" ng-change="filterGraph(selected.filteredGroupsAndAccounts.forfilter.dr)"> Debit Total
                    </label>
                  </div>
                </div>
                <div class="loader mrT4" ng-hide="chartDataAvailable">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <div class="width100 clearfix">
                  <div class="col-xs-10 col-xs-offset-1">
                    <div class="chart-container" ng-show="chartDataAvailable">
                      <canvas id="line" class="chart chart-line" chart-data="chartData"
                        chart-labels="labels" chart-legend="true" chart-series="series"
                        chart-click="onClick" chart-options="chartOptions">
                      </canvas>
                    </div>
                  </div>
                </div>
                <div class="no-data" ng-if="noData">
                  <h1>Sorry, No Data Found!</h1>
                  <img src="/public/webapp/Globals/images/no-data.png" alt="">
                </div>
                <div class="fixScroll"></div>
              </perfect-scrollbar>
            </div>
          </uib-tab>
          <uib-tab heading="Profit & Loss" select="showPLFilter()">
              <perfect-scrollbar class="scrClass" wheel-propagation="true" wheel-speed="1" min-scrollbar-length="20" auto-height>
                <div class="loader mrT4" ng-hide="chartDataAvailable">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <div class="width100 clearfix">
                  <div class="col-xs-10 col-xs-offset-1">
                    <div class="chart-container" ng-show="chartDataAvailable">
                      <canvas id="line" class="chart chart-line" chart-data="plChartData"
                        chart-labels="plLabels" chart-legend="true" chart-series="plSeries"
                        chart-click="onClick" chart-options="chartOptions">
                      </canvas>
                    </div>
                  </div>
                </div>
                <div class="fixScroll"></div>
              </perfect-scrollbar>
          </uib-tab>
          <uib-tab heading="Net Worth" select="showNWfilter()">
              <perfect-scrollbar class="scrClass" wheel-propagation="true" wheel-speed="1" min-scrollbar-length="20" auto-height>
                <div class="loader mrT4" ng-hide="chartDataAvailable">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <div class="width100 clearfix">
                  <div class="col-xs-10 col-xs-offset-1">
                    <div class="chart-container" ng-show="chartDataAvailable">
                      <canvas id="line" class="chart chart-line" chart-data="nwChartData"
                        chart-labels="nwLabels" chart-legend="true" chart-series="nwSeries"
                        chart-click="onClick" chart-options="chartOptions">
                      </canvas>
                    </div>
                  </div>
                </div>
                <div class="fixScroll"></div>
              </perfect-scrollbar>
          </uib-tab>
        </uib-tabset>
      </div>
    </div>
  </div>
  <!-- end of row -->
</div>

