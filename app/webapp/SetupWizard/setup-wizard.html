<div id="setupWizardModal" ng-controller="setWizardController">

  <div class="modal-header themeBg">
    <button type="button" class="close" data-dismiss="modal" ng-click="promptBeforeClose()" aria-label="Close"><span
        aria-hidden="true">&times;</span></button>
    <h3 class="modal-title">Create New Company</h3>
  </div>
  <!-- end header -->

  <div class="modal-body noPad">

    <div class="welcome-msg">
      <div ng-if="!showSuccessMsg">
        <span>Welcome!</span></br>
        <span>Let us help you set up your company with Giddh.</span> 
      </div>
      <div ng-if="showSuccessMsg">
        <span>Congratulations!</span></br>
        <span>Company created successfully.</span> 
      </div>
    </div>
    
    <hr>

    <div class="wizard-container">
      <wizard on-finish="setupComplete()"> 
        <wz-step wz-title="Add Mobile Number" wz-disabled="{{isNotVerified}}">
            
            <div class="wizard-step">
                
              <div class=" clearfix">
                <h1>Add Mobile Number</h1>
                <div class="mrT">
                  <input class="form-control max350 pull-left" type="text" placeholder="91-9998899988" ng-model="phoneNumber"/>
                  <button class="btn btn-success mrL2" ng-click="addNumber(phoneNumber)" ng-disabled="mobNum.showVerificationBox">Add</button>
                </div>
                <p class="mrT"><b>Note: </b>Add Contact number along with country code, for example, If your contact number is 9998899988 and country code is 91, enter '91-9998899988'.</p>
              </div>
              <div class=" clearfix" ng-if="mobNum.showVerificationBox" style="padding-top:0;">
                <hr>
                <h1 class="mrT2">Enter Verfication Code</h1>
                <div class="mrT">
                  <input class="form-control max350 pull-left" type="text" placeholder="Verification Code" ng-model="mobNum.verificationCode"/>
                  <button class="btn btn-success mrL2" ng-click="verifyNumber(mobNum.verificationCode)">Verify</button>
                </div>
              </div>
              <!-- <input class=" btn btn-primary center-block" style="width:80px;margin-top:45px" type="submit" wz-next value="Next" /> -->
            </div>


        </wz-step>
        <wz-step wz-title="Create Company">
            
            <div class="wizard-step">
              <h1>Create Your Company</h1>  
              <form name="createCompForm" novalidate id="createCompForm">
                <div class="modal-body">
                  <div class="form-group"
                       ng-class="(createCompForm.name.$valid  && createCompForm.name.$touched) ? 'has-success' : (createCompForm.name.$touched) ? 'has-error' : '' ">
                    <input type="text" ng-model="company.name" class="form-control" placeholder="Company Name" required name="name"
                           minlength="5" maxlength="100" ngPattern="/[a-zA-Z0-9^ ]/">
                  </div>
                  <div class="form-group"
                       ng-class="(createCompForm.city.$valid  && createCompForm.city.$touched) ? 'has-success' : (createCompForm.city.$touched) ? 'has-error' : '' ">
                    <input type="text" ng-model="company.city" uib-typeahead="address for address in getOnlyCity($viewValue)"
                           typeahead-loading="loadingLocationsOnlyCt" typeahead-no-results="noResultsOnlyCt" class="form-control"
                           name="city" autocomplete="off" required maxlength="50" placeholder="Company City">
                    <i ng-show="loadingLocationsOnlyCt" class="glyphicon glyphicon-refresh"></i>

                    <div ng-show="noResultsOnlyCt">
                      <i class="glyphicon glyphicon-remove"></i> No Results Found
                    </div>

                  </div>
                </div>
                <div class="modal-footer">
                  <button class="btn btn-primary" type="button" ng-click="createCompany(company)" ng-disabled="createCompForm.$invalid">
                    Create
                  </button>
                </div>
              </form>
              <!-- <input class=" btn btn-primary center-block" style="width:80px;margin-top:45px" type="submit" wz-next value="Next" /> -->
            </div>
        </wz-step>
        <wz-step wz-title="Finish">
            <div class="wizard-step text-center">
              <h1 class="mrT4 mrB2">Click here to manage Groups and Accounts</h1>
                <button type="button" class="btn btn-primary btn-sm btn-block mrB1 max350 center-block" ng-click="triggerAddManage();$dismiss()">
                  <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add &amp; Manage Groups and Accounts
                </button>
            </div>
        </wz-step>
      </wizard>      
    </div>

  </div>
  <!-- end modal body -->


</div>