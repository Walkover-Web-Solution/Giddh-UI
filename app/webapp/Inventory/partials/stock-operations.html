<section class="col-xs-12 col-md-9 col-lg-6">
	<div class="pd2">
		<div class="row form_title">
			<label ng-if="!vm.addStockObj.uniqueName">Add Stock</label>
			<label ng-if="vm.addStockObj.uniqueName">Modify Stock</label>
		</div>
	
		<div class="row">
			<form name="addEditStockForm" class="form-theme clearfix" novalidate>
				
				<div class="row mr0">
					<div class="form-group col-xs-6 pdL0 pdR">
						<label>Name<span class="required">*</span></label>
						<input type="text" name="name" class="form-control" ng-model="vm.addStockObj.name" required minlength="2">
					</div>
					<!-- show only when update -->
					<div ng-if="vm.addStockObj.uniqueName" class="form-group col-xs-6 pdR0 pdL">
						<label>Unique Name<span class="required">*</span></label>
						<input type="text" name="uniqueName" class="form-control" ng-model="vm.addStockObj.uniqueName" required>
					</div>			
				</div>

				<div class="row mr0">
					<div class="form-group col-xs-3 pdL0 pdR">
						<label>Stock Unit<span class="required">*</span></label>
						<ui-select ng-model="vm.addStockObj.stockUnitCode" theme="bootstrap" required>
              <ui-select-match>
                <span>{{$select.selected.code}}</span>
              </ui-select-match>
              <ui-select-choices repeat="unit.code as unit in vm.customUnits track by $index">
              	<span ng-bind="unit.name"></span>&nbsp;
              	(<span ng-bind="unit.code"></span>)
              </ui-select-choices>
            </ui-select>
					</div>

					<div class="form-group col-xs-3 pdR">
						<label>Open. Qty</label>
						<input type="number" name="openingQuantity" class="form-control" ng-model="vm.addStockObj.openingQuantity">
					</div>

					<div class="form-group col-xs-3 pdL">
						<label>Amount</label>
						<input type="number" name="openingAmount" class="form-control" ng-model="vm.addStockObj.openingAmount">
					</div>

					<!--amount/quantity formula manuallly calculate -->
					<div class="form-group col-xs-3 pdL pdR0 ">
						<label>Rate per stock unit</label>
						<input readonly="true" type="text" class="form-control" placeholder="calculate later" value="{{vm.addStockObj.openingAmount/vm.addStockObj.openingQuantity}}" />
					</div>

				</div>

				<div class="row mr0 col-xs-6 pdL0 pdR">
					<div class="form-group col-xs-12 pdL0 pdR">
						<label>Purchase Acc</label>
	        	<ui-select ng-model="vm.addStockObj.purchaseAccountDetails.accountUniqueName" theme="bootstrap">
              <ui-select-match allow-clear="true" placeholder="select purchase account">
                <span>{{$select.selected.name}}</span>
              </ui-select-match>
              <ui-select-choices repeat="account.uniqueName as account in vm.purchaseAccounts | filter:$select.search | limitTo:5" refresh="vm.getPurchaseAccounts($select.search)">
              	<span ng-bind="account.name"></span>
              </ui-select-choices>
            </ui-select>
					</div>

					<div class="col-xs-6 pdR0 pdL0 mrB">
						<label>Unit<span class="required">*</span></label>
					</div>
					<div class="col-xs-5 pdR1 mrB">
						<label>Rate</label>
					</div>

					<div class="mutliple_unit" ng-repeat="item in vm.addStockObj.purchaseAccountDetails.unitRates track by $index">
						<div class="col-xs-6 pdR0 pdL0 mrB">
							<ui-select ng-model="item.stockUnitCode" theme="bootstrap">
		            <ui-select-match>
	                <span>{{$select.selected.code}}</span>
	              </ui-select-match>
	              <ui-select-choices repeat="unit.code as unit in vm.customUnits track by $index">
	              	<span ng-bind="unit.name"></span>&nbsp;
	              	(<span ng-bind="unit.code"></span>)
	              </ui-select-choices>
		          </ui-select>
						</div>
						<div class="col-xs-5 pdR1 mrB">
							<input type="number" class="form-control" ng-model="item.rate" />
							
							<!-- action -->
							<span>
								<button ng-if="$last" ng-click="vm.addUnitItem(item, 'pArr')"><i class="fa fa-plus add_row"></i></button
								>
								<button ng-hide="$last" ng-click="vm.removeUnitItem(item, 'pArr')"><i class="fa fa-times dlet"></i></button>
							</span>
						</div>
					</div>

				</div>


				<div class="row mr0 col-xs-6 pdL pdR0">
					<div class="form-group col-xs-12 pdL0 pdR">
						<label>Sales Acc</label>
						<ui-select ng-model="vm.addStockObj.salesAccountDetails.accountUniqueName" theme="bootstrap">
              <ui-select-match  allow-clear="true" placeholder="select sales account">
              	<span>{{$select.selected.name}}</span>
              </ui-select-match>
              <ui-select-choices repeat="account.uniqueName as account in vm.salesAccounts | filter:$select.search | limitTo:5" refresh="vm.getSalesAccounts($select.search)">
                <span ng-bind="account.name"></span>
              </ui-select-choices>
            </ui-select>
					</div>

				

					<div class="col-xs-6 pdR0 pdL0 mrB">
						<label>Unit<span class="required">*</span></label>
					</div>
					<div class="col-xs-5 pdR1 mrB">
						<label>Rate</label>
					</div>

					<div class="mutliple_unit" ng-repeat="item in vm.addStockObj.salesAccountDetails.unitRates track by $index">
						<div class="col-xs-6 pdR0 pdL0 mrB">
							<ui-select ng-model="item.stockUnitCode" theme="bootstrap">
		            <ui-select-match>
	                <span>{{$select.selected.code}}</span>
	              </ui-select-match>
	              <ui-select-choices repeat="unit.code as unit in vm.customUnits track by $index">
	              	<span ng-bind="unit.name"></span>&nbsp;
	              	(<span ng-bind="unit.code"></span>)
	              </ui-select-choices>
		          </ui-select>
						</div>
						<div class="col-xs-5 pdR1 mrB">
							<input type="number" class="form-control" ng-model="item.rate" />
							
							<!-- action -->
							<span>
								<button ng-if="$last" ng-click="vm.addUnitItem(item, 'sArr')"><i class="fa fa-plus add_row"></i></button
								>
								<button ng-hide="$last" ng-click="vm.removeUnitItem(item, 'sArr')"><i class="fa fa-times dlet"></i></button>
							</span>
						</div>
					</div>
					
				</div>
			
			
			
				<div class="row col-xs-12 mrT2">
					
					<button ng-if="!vm.addStockObj.uniqueName" type="submit" class="btn btn-sm btn-success mrR1" ng-disabled="addEditStockForm.$invalid"  ng-click="vm.addStock()">Save</button>

					<button ng-if="vm.addStockObj.uniqueName" type="submit" class="btn btn-sm btn-success mrR1" ng-disabled="addEditStockForm.$invalid"  ng-click="vm.updateStock()">Update</button>

					<button ng-click="vm.clearAddEditStockForm()" type="reset" class="btn btn-sm btn-primary">
						Cancel
					</button>
					
				</div>

			</form>
		</div>
	</div>
</section>






<!-- linked stock -->
<section ng-hide="true" class="col-xs-12 col-md-12 col-lg-12 wrap_section mrT1">
<div class="row form_title">
	<label>Stock Name (Made with)</label>
	<div class="col-md-8 col-lg-8 col-xs-8">
		<div class="row">
			<form name="linkedStock" id="linkedStock" ng-model="vm.linkedStock" class="form-theme clearfix" novalidate>
		
				<div class="form-group col-xs-4 pdL0 pdR mrB">
					<label>Select Stock<span class="required">*</span></label>
					<select class="form-control" required>
						<option>Gram flour</option>
						<option>Ghee</option>
						<option>Sugar</option>
					</select>
				</div>

				<div class="form-group col-xs-4 pdR0 pdL mrB">
					<label>Stock Unit<span class="required">*</span></label>
					<select class="form-control" required>
						<option>Kilogram</option>
						<option>Litre</option>
						<option>Hour</option>
						<option>Number</option>
					</select>
				</div>

				<div class="form-group col-xs-3 pdR0 pdL mrB">
					<label>Quantity per Unit<span class="required">*</span></label>
					<input type="text" name="qtyUnit" class="form-control" required>
				</div>
				<div class="form-group col-xs-1 pdR0 pdL mrB">
					<label class="col-xs-12">&nbsp;</label>
					<button type="submit" class="btn btn-sm btn-primary" ng-click="" ng-disabled="">Add</button>
				</div>


			<div class="linkstock" style="height: 200px;overflow-y: scroll;">
						<table class="col-xs-12 table_theme mrT">
			<tbody>
				<tr>
					<td>Gram flour</td>
					<td>Stock unit</td>
					<td>Stock quantity</td>
					<td class="action"><a href="javasript:void(0);" class="edit_btn"><i class="fa fa-pencil" aria-hidden="true"></i>
 Edit</a> <a href="javasript:void(0);" class=""><i class="fa fa-trash-o" aria-hidden="true"></i> Delete</a></td>
				</tr>

				<tr>
					<td>Gram flour</td>
					<td>Stock unit</td>
					<td>Stock quantity</td>
					<td class="action"><a href="javasript:void(0);" class="edit_btn"><i class="fa fa-pencil" aria-hidden="true"></i>
 Edit</a> <a href="javasript:void(0);" class=""><i class="fa fa-trash-o" aria-hidden="true"></i> Delete</a></td>
				</tr>

				<tr>
					<td>Gram flour</td>
					<td>Stock unit</td>
					<td>Stock quantity</td>
					<td class="action"><a href="javasript:void(0);" class="edit_btn"><i class="fa fa-pencil" aria-hidden="true"></i>
 Edit</a> <a href="javasript:void(0);" class=""><i class="fa fa-trash-o" aria-hidden="true"></i> Delete</a></td>
				</tr>

				<tr>
					<td>Gram flour</td>
					<td>Stock unit</td>
					<td>Stock quantity</td>
					<td class="action"><a href="javasript:void(0);" class="edit_btn"><i class="fa fa-pencil" aria-hidden="true"></i>
 Edit</a> <a href="javasript:void(0);" class=""><i class="fa fa-trash-o" aria-hidden="true"></i> Delete</a></td>
				</tr>

				<tr>
					<td>Gram flour</td>
					<td>Stock unit</td>
					<td>Stock quantity</td>
					<td class="action"><a href="javasript:void(0);" class="edit_btn"><i class="fa fa-pencil" aria-hidden="true"></i>
 Edit</a> <a href="javasript:void(0);" class=""><i class="fa fa-trash-o" aria-hidden="true"></i> Delete</a></td>
				</tr>
			</tbody>

		</table>
			</div>
			<div class="clearfix"></div>
			<div class="col-xs-12 bdrT pdT1 mrT1 text-right">
				<div class="row">
					<button type="submit" class="btn btn-lg btn-success" ng-click="" ng-disabled="">Save</button>
				</div>
			</div>
			</form>


		</div>
	</div>

	<div class="col-md-4 col-lg-4 col-xs-4 stock_info">
		<div class="row">
		<div class="stock_wrap">
			<form name="StockOutput" ng-model="vm.StockOutput" class="" novalidate>
			<div class="col-md-11 col-xs-11 pull-right">
			
						<h1 class="mrB2">Stock Name</h1>
				<div class="form-group col-md-6 col-lg-6 col-xs-12">
					<span class="total-ico">=</span>
					<label>Quantity</label>
					<input type="text" class="form-control" name="" placeholder="Quantity" />
				</div>
				<div class="form-group col-md-6 col-lg-6 col-xs-12">
				<label>Select Unit</label>
					<select class="form-control" required>
						<option>Kilogram</option>
						<option>Litre</option>
						<option>Hour</option>
						<option>Number</option>
					</select>
				</div>
				<div class="form-group col-xs-12">
					<button type="submit" class="btn btn-sm btn-success" ng-click="" ng-disabled="">Save</button>
				</div>

			</div>
			</form>
		</div>			
		</div>

	</div>
</div>

</section>