<perfect-scrollbar class="scrClass" wheel-propagation="true" wheel-speed="10" min-scrollbar-length="20" auto-height>

<div class="loader" ng-hide="showLedgerBox">
  <span></span>
  <span></span>
  <span></span>
  <span></span>
  <span></span>
  <h1>Click on account to load ledger</h1>
</div>

<div class="pdL2 pdR2 pdT2" ng-if="showLedgerBox">
  <div class="form-inline pdB1">
    <div class="form-group mrR1">
      <label>From date</label>

      <p class="input-group">
        <input type="text" class="form-control"
               datepicker-popup="{{format}}"
               datepicker-options="dateOptions"
               is-open="fromDatePickerIsOpen"
               ng-click="fromDatePickerOpen()"
               ng-model="fromDate.date" max-date="today" placeholder="from date"/>
        <span class="input-group-btn">
          <button type="button" class="btn btn-default" ng-click="fromDatePickerOpen()"><i
              class="glyphicon glyphicon-calendar"></i></button>
        </span>
      </p>
    </div>
    <div class="form-group">
      <label>To date</label>

      <p class="input-group">
        <input type="text" class="form-control"
               datepicker-popup="{{format}}"
               datepicker-options="dateOptions"
               is-open="toDatePickerIsOpen"
               ng-click="toDatePickerOpen()"
               ng-model="toDate.date" min-date="fromDate" max-date="today" placeholder="to date"/>
        <span class="input-group-btn">
          <button type="button" class="btn btn-default" ng-click="toDatePickerOpen()"><i
              class="glyphicon glyphicon-calendar"></i></button>
        </span>
      </p>
    </div>
  </div>


  <table class="table ledgerTable">
    <thead>
    <th class="nopad" colspan="3">
      <div class="clearfix ldgTheadL">
        <span class="icon48 icon-in"></span>

        <h3 class="ledgerHead">
          <span class="ellp">{{accntTitle}}</span>
          <span>&nbsp;is <strong>receiving</strong></span>
        </h3>
      </div>
    </th>
    <th class="nopad" colspan="3">
      <div class="pull-right alR">
        <div class="clearfix ldgTheadR">
          <span class="icon48 icon-out"></span>

          <h3 class="ledgerHead">
            <span>&nbsp;is <strong>giving</strong></span>
            <span class="ellp">{{accntTitle}}</span>
          </h3>
        </div>
      </div>
    </th>
    </thead>
    <!-- end main thead -->
    <tbody>
    <tr>
      <td class="nopad" style="width:50%"  colspan="3">
        <table class="table table-bordered">
          <thead>
          <tr class="splBg">
            <th colspan="100%">Debit (Dr)</th>
          </tr>
          <tr class="dgreyBg">
            <th width="28%">Date (DD-MM-YYYY)</th>
            <th width="44%">Particular</th>
            <th width="28%">Amount</th>
          </tr>
          </thead>

          <tbody class="ledgerBodyContent" id="ledgerBodyContentDebit">

          <tr>
            <td class="nopad" colspan="100%">
              <div class="pr">
                <div
                  ng-repeat="(key, value) in ledgerData.ledgers | pick: debitOnly track by $index"
                  ledger-pop
                  index="$index"
                  ftype="value.uniqueName == undefined ? 'Add' : 'Update'"
                  itemdata="value"
                  acntlist="fltAccntList"
                  class='drEntryForm_{{$index}} pr'
                  name='drEntryForm_{{$index}}'
                  update-ledger="updateEntry(entry)"
                  add-ledger="addNewEntry(entry)"
                  remove-ledgdialog="removeLedgerDialog()"
                  discard-ledger="deleteEntry(entry)"
                  novalidate
                  >
                </div>
              </div>
            </td>
          </tr>
          </tbody>

        </table>
      </td>
      <!-- main left td end here -->
      <td class="nopad" style="width:50%" colspan="3">
        <table class="table table-bordered">
          <thead>
          <tr class="splBg">
            <th colspan="100%">Credit (Dr)</th>
          </tr>
          <tr class="dgreyBg">
            <th width="28%">Date (DD-MM-YYYY)</th>
            <th width="44%">Particular</th>
            <th width="28%">Amount</th>
          </tr>
          </thead>

          <tbody class="ledgerBodyContent" id="ledgerBodyContentCredit">
          <tr>
            <td class="nopad" colspan="100%">
              <div class="pr">
                <div
                  ng-repeat="(key, value) in ledgerData.ledgers | pick: creditOnly track by $index"
                  ledger-pop
                  index="$index"
                  ftype="value.uniqueName == undefined ? 'Add' : 'Update'"
                  itemdata="value"
                  acntlist="fltAccntList"
                  class='drEntryForm_{{$index}} pr'
                  name='drEntryForm_{{$index}}'
                  update-ledger="updateEntry(entry)"
                  add-ledger="addNewEntry(entry)"
                  remove-ledgdialog="removeLedgerDialog()"
                  discard-ledger="deleteEntry(entry)"
                  novalidate
                  >
                </div>
              </div>
            </td>
          </tr>
          </tbody>
        </table>
      </td>
      <!-- main right td end here -->
    </tr>
    </tbody>
    <!-- end main tbody -->
    <tfoot>

    <tr class="fw600 dgreyBg">
      <td colspan="2" style="width:36%">
        <div class="pull-right" ng-if="ledgerData.balance.type == 'DEBIT'">
          Balance 
        </div>
      </td>
      <td style="width:14%">
        
        <span>{{debitBalanceAmount}}</span>
        
      </td>
      <td colspan="2" style="width:36%">
        <div class="pull-right" ng-if="ledgerData.balance.type == 'CREDIT'">
          Balance 
        </div>
      </td>
      <td style="width:14%">
        
        <span>{{creditBalanceAmount}}</span>
        
      </td>
    </tr>
    <tr class="total greyBg">
      <td colspan="2" style="width:36%">
        <span class="pull-right">Total</span>
      </td>
      <td style="width:14%">
        <span>{{debitTotal}}</span>
      </td>
      <td colspan="2" style="width:36%">
        <span class="pull-right">Total</span>
      </td>
      <td class="" style="width:14%">
        <span>{{creditTotal}}</span>
      </td>
    </tr>

    </tfoot>
    <!-- end main tfoot -->

  </table>
</div>
</perfect-scrollbar>