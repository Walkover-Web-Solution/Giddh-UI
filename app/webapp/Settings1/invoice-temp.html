<div class="pd2">

	<div class="clearfix mrB2">
		<button ng-click="ctrl.showAddTemplate()" class="btn btn-primary">Add New Template</button>
	</div>

	<div ng-if="ctrl.showTemplate" class="clearfix">

		{{ctrl.widgets}}

    <div class="row">
      <div class="col-md-12">
	      <section id="invoice-wrapper">
	      	<div class="clearfix pdB2 form-inline">
	      		
	      		<div class="form-group">
	      			<input type="text" name="ctrl.templateName" ng-model="ctrl.templateName" placeholder="Template Name" class="form-control">
	      		</div>
	      		<div class="form-group">
			      	<a class="btn btn-success" ng-click="ctrl.saveTemplate()" href="javascript:void(0)">Save Template</a>
			      </div>

			      <div class="form-group pull-right">
			      	<a class="btn btn-primary" ng-click="ctrl.addWidget()" href="javascript:void(0)">Add Widget</a>
			      </div>
			      <div class="form-group pull-right">
				      <select
			          required
			          class="form-control"
			          name="ctrl.tempType"
			          ng-model="ctrl.tempType"
			          ng-options="item for item in ctrl.tempTypes">
				      </select>
				    </div>
				    
			  	</div>

	        <div gridster="ctrl.gridsterOptions">
				    <ul>
				      <li gridster-item="item" ng-repeat="item in ctrl.widgets">
				      	<a href="javascript:void(0)" id="remove-widget" title="Remove widget" ng-click="ctrl.removeWidget(item)"><i class="glyphicon glyphicon-trash"></i></a>

							  <div ng-if="item.type === 'String'">
							    <textarea ui-tinymce="ctrl.tinymceOptions" 
										ng-model='item.data'></textarea>
							  </div>

							  <div ng-if="item.type === 'Tosec'">
							    <textarea ui-tinymce="ctrl.tinymceOptionsWithMentio" 
										ng-model='item.data' mentio mentio-typed-text="typedTerm" mentio-items="ctrl.peoples | filter:label:typedTerm" mentio-iframe-element="ctrl.iframeElement"></textarea>
							  </div>

							  <div ng-if="item.type === 'Image'">
							 		<form class="form-inline" enctype="multipart/form-data">
							      <div class="form-group">
							        <span >
							          <button type="file" 
							            ng-model="item.uploadFile"
							            class="btn btn-primary" 
							            ngf-select="ctrl.uploadImages($files,'logo')"
							            ngf-pattern="image/*"
							            accept="image/*"
							            ngf-max-size="200KB"
							            ngf-multiple="false"
							          >
							            <i class="glyphicon glyphicon-folder-open"></i> 
							            &nbsp; Upload Logo</button><br/>
							          <small>* Image size should be max 200KB</small>
							        </span>
							      </div>
							      <div class="form-group">
							        <img ngf-src="item.uploadFile" class="thumb">
							        <a href="javascript:void(0)" ng-click="item.uploadFile = null">Reset Logo</a>
							      </div>
							    </form>
							  </div>
							  <!-- end upload image section -->

							  <div ng-if="item.type === 'Entry'">
							  	<div class="greyBg alC">
			              <div class="mrT4">Particulars will shown here</div>
			            </div>
							  </div>
								
				      </li>
				    </ul>
					</div>
					<!-- end gridster -->
				</section>

      </div>
    </div>
    <!-- end row -->


	</div>

</div>